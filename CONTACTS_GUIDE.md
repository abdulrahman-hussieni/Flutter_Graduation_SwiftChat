# ุฏููู ุงุณุชุฎุฏุงู ูุธุงู ุงููููุชุงูุชุงุช

## ููููุฉ ุฅุถุงูุฉ ูููุชุงูุช ุฌุฏูุฏ

### ุงูุฎุทูุงุช:

1. **ุงูุชุญ ุตูุญุฉ Contacts**
   - ูู ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉุ ุงุถุบุท ุนูู ุฒุฑ `+` (FloatingActionButton)
   - ุฃู ุงุฐูุจ ุฅูู ุตูุญุฉ Select Contact

2. **ุงุถุบุท ุนูู "New contact"**
   - ุณุชุธูุฑ ุตูุญุฉ Add Contact

3. **ุงุจุญุซ ุนู ุงููุณุชุฎุฏู**
   - ุฃุฏุฎู ุงูู **Email** ุงูุฎุงุต ุจุงููุณุชุฎุฏู ุงูุฐู ุชุฑูุฏ ุฅุถุงูุชู
   - ุงุถุบุท ุนูู ุฃููููุฉ ุงูุจุญุซ ๐

4. **ุฃุถู ุงููููุชุงูุช**
   - ุฅุฐุง ุชู ุงูุนุซูุฑ ุนูู ุงููุณุชุฎุฏูุ ุณุชุธูุฑ ุจุทุงูุชู
   - ุงุถุบุท ุนูู ุฒุฑ **"Add Contact"**
   - ุณูุชู ุญูุธ ุงููููุชุงูุช ูู ูุงุฆูุชู

5. **ุงุจุฏุฃ ุงููุญุงุฏุซุฉ**
   - ููููู ุงูุถุบุท ุนูู **"Chat"** ูุจุงุดุฑุฉ
   - ุฃู ุงูุนูุฏุฉ ูุตูุญุฉ Contacts ูุงูุถุบุท ุนูู ุงููููุชุงูุช ูู ุงููุงุฆูุฉ

## ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ

### โ ุตูุญุฉ Add Contact
- ุจุญุซ ุจุงูู Email
- ุนุฑุถ ูุนูููุงุช ุงููุณุชุฎุฏู ูุจู ุงูุฅุถุงูุฉ
- ุฅุถุงูุฉ ููุฑูุฉ ูููููุชุงูุช
- ุจุฏุก ูุญุงุฏุซุฉ ูุจุงุดุฑุฉ

### โ ุตูุญุฉ My Contacts
- ุนุฑุถ ุงููููุชุงูุชุงุช ุงููุญููุธุฉ ููุท
- StreamBuilder ููุชุญุฏูุซ ุงูููุฑู
- ุฑุณุงูุฉ ุชุฑุญูุจูุฉ ุนูุฏ ุนุฏู ูุฌูุฏ ูููุชุงูุชุงุช
- ุถุบุทุฉ ูุงุญุฏุฉ ูุจุฏุก ุงููุญุงุฏุซุฉ

### โ ุฅูุดุงุก Groups
- ุฒุฑ "New Group" ูุนูู ุงูุขู
- ููุชุญ ุตูุญุฉ ุฅูุดุงุก ุงููุฌููุนุงุช

## ูููู ุงูุจูุงูุงุช ูู Firestore

```
users/
  โโโ {userId}/
      โโโ contacts/          โ ุงููููุชุงูุชุงุช ุงููุญููุธุฉ
      โ   โโโ {contactId}/
      โ       โโโ id
      โ       โโโ name
      โ       โโโ email
      โ       โโโ profileImage
      โโโ calls/             โ ุณุฌู ุงูููุงููุงุช
          โโโ {callId}/
```

## ููุงุญุธุงุช ูููุฉ

### ๐ Security Rules
ุชุฃูุฏ ูู ุชุทุจูู Firestore Rules ุงูุตุญูุญุฉ (ุฑุงุฌุน FIRESTORE_RULES_FIX.md):
```javascript
match /users/{userId}/contacts/{contactId} {
  allow read, write: if request.auth.uid == userId;
}
```

### ๐ง ุงูุจุญุซ ุจุงูู Email
- ูุฌุจ ุฅุฏุฎุงู Email ูุงูู ูุฏููู
- ุงูุจุญุซ case-insensitive (ุบูุฑ ุญุณุงุณ ููุฃุญุฑู ุงููุจูุฑุฉ/ุงูุตุบูุฑุฉ)
- ุงููุณุชุฎุฏู ูุฌุจ ุฃู ูููู ูุณุฌู ูู ุงูุชุทุจูู

### ๐ ุงูุชุญุฏูุซ ุงูุชููุงุฆู
- ูุงุฆูุฉ ุงููููุชุงูุชุงุช ุชุชุญุฏุซ ุชููุงุฆูุงู ุนูุฏ ุงูุฅุถุงูุฉ/ุงูุญุฐู
- ุงุณุชุฎุฏุงู StreamBuilder ููู real-time updates

## ุงููููุงุช ุงููุนุฏููุฉ

1. **lib/pages/contact_page/add_contact_page.dart** (ุฌุฏูุฏ)
   - ุตูุญุฉ ุฅุถุงูุฉ ูููุชุงูุช ุฌุฏูุฏ

2. **lib/pages/contact_page/contact_page.dart**
   - ุชุญุฏูุซ ูุนุฑุถ ุงููููุชุงูุชุงุช ุงููุญููุธุฉ
   - ุฑุจุท ุฒุฑ New Contact ุจุงูุตูุญุฉ ุงูุฌุฏูุฏุฉ
   - ุชูุนูู ุฒุฑ New Group

3. **lib/controllers/contact_controller.dart**
   - ุฏูุงู `saveContact()` ู `getContacts()` ุฌุงูุฒุฉ

4. **FIRESTORE_RULES_FIX.md**
   - ุชุญุฏูุซ ุงูููุงุนุฏ ูุฏุนู contacts sub-collection

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### โ "No user found"
- ุชุฃูุฏ ูู ุตุญุฉ ุงูู Email
- ุชุฃูุฏ ูู ุฃู ุงููุณุชุฎุฏู ูุณุฌู ูู ุงูุชุทุจูู
- ุงูุชุธุฑ ุชุญููู ูุงุฆูุฉ ุงููุณุชุฎุฏููู

### โ "Permission denied"
- ุทุจูู Firestore Rules ุงูุฌุฏูุฏุฉ ูู ููู FIRESTORE_RULES_FIX.md
- ุชุฃูุฏ ูู ุชุณุฌูู ุงูุฏุฎูู

### โ ุงููุงุฆูุฉ ูุงุฑุบุฉ
- ุฃุถู ูููุชุงูุช ุฌุฏูุฏ ุฃููุงู
- ุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
- ุชุฃูุฏ ูู Firestore Rules
